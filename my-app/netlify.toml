[build]
  command = "npm run build"
  publish = ".next"

[[plugins]]
  package = "@netlify/plugin-nextjs"

# Configure secrets scanning to ignore false positives
[build.environment]
  # Exclude example files and documentation from secrets scanning
  SECRETS_SCAN_OMIT_PATHS = ".env.local.example,DEPLOYMENT.md,QUICK-DEPLOY.md,README.md,*.md,app/playground/page.tsx.bak"

  # These are public Next.js environment variables that are meant to be in build output
  # NEXT_PUBLIC_* variables are intentionally client-side and not sensitive
  SECRETS_SCAN_OMIT_KEYS = "NEXT_PUBLIC_CLERK_SIGN_IN_URL,NEXT_PUBLIC_CLERK_SIGN_UP_URL,NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL,NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL,NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY,NEXT_PUBLIC_SUPABASE_URL,NEXT_PUBLIC_SUPABASE_ANON_KEY"
